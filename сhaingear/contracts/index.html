



<!DOCTYPE html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      <meta http-equiv="x-ua-compatible" content="ie=edge">
      
        <meta name="description" content="Knowledge base of cyber•Congress">
      
      
      
        <meta name="author" content="cyber•Congress team">
      
      
        <meta name="lang:clipboard.copy" content="Copy to clipboard">
      
        <meta name="lang:clipboard.copied" content="Copied to clipboard">
      
        <meta name="lang:search.language" content="en">
      
        <meta name="lang:search.pipeline.stopwords" content="True">
      
        <meta name="lang:search.pipeline.trimmer" content="True">
      
        <meta name="lang:search.result.none" content="No matching documents">
      
        <meta name="lang:search.result.one" content="1 matching document">
      
        <meta name="lang:search.result.other" content="# matching documents">
      
        <meta name="lang:search.tokenizer" content="[\s\-]+">
      
      <link rel="shortcut icon" href="../../img/Logo_cat.svg">
      <meta name="generator" content="mkdocs-1.0.4, mkdocs-material-2.7.2">
    
    
      
        <title>Contracts - сyber•Congress wiki</title>
      
    
    
      <link rel="stylesheet" href="../../assets/stylesheets/application.8d40d89b.css">
      
        <link rel="stylesheet" href="../../assets/stylesheets/application-palette.6079476c.css">
      
    
    
      <script src="../../assets/javascripts/modernizr.1aa3b519.js"></script>
    
    
      <link href="https://fonts.gstatic.com" rel="preconnect" crossorigin>
      
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Play:300,400,400i,700|Play">
        <style>body,input{font-family:"Play","Helvetica Neue",Helvetica,Arial,sans-serif}code,kbd,pre{font-family:"Play","Courier New",Courier,monospace}</style>
      
      <link rel="stylesheet" href="https://fonts.googleapis.com/icon?family=Material+Icons">
    
    
      <link rel="stylesheet" href="../../stylesheets/extra.css">
    
      <link rel="stylesheet" href="../../stylesheets/progressbar.css">
    
    
  </head>
  
    
    
    <body dir="ltr" data-md-color-primary="green" data-md-color-accent="">
  
    <svg class="md-svg">
      <defs>
        
        
          <svg xmlns="http://www.w3.org/2000/svg" width="416" height="448"
    viewBox="0 0 416 448" id="github">
  <path fill="currentColor" d="M160 304q0 10-3.125 20.5t-10.75 19-18.125
        8.5-18.125-8.5-10.75-19-3.125-20.5 3.125-20.5 10.75-19 18.125-8.5
        18.125 8.5 10.75 19 3.125 20.5zM320 304q0 10-3.125 20.5t-10.75
        19-18.125 8.5-18.125-8.5-10.75-19-3.125-20.5 3.125-20.5 10.75-19
        18.125-8.5 18.125 8.5 10.75 19 3.125 20.5zM360
        304q0-30-17.25-51t-46.75-21q-10.25 0-48.75 5.25-17.75 2.75-39.25
        2.75t-39.25-2.75q-38-5.25-48.75-5.25-29.5 0-46.75 21t-17.25 51q0 22 8
        38.375t20.25 25.75 30.5 15 35 7.375 37.25 1.75h42q20.5 0
        37.25-1.75t35-7.375 30.5-15 20.25-25.75 8-38.375zM416 260q0 51.75-15.25
        82.75-9.5 19.25-26.375 33.25t-35.25 21.5-42.5 11.875-42.875 5.5-41.75
        1.125q-19.5 0-35.5-0.75t-36.875-3.125-38.125-7.5-34.25-12.875-30.25-20.25-21.5-28.75q-15.5-30.75-15.5-82.75
        0-59.25 34-99-6.75-20.5-6.75-42.5 0-29 12.75-54.5 27 0 47.5 9.875t47.25
        30.875q36.75-8.75 77.25-8.75 37 0 70 8 26.25-20.5
        46.75-30.25t47.25-9.75q12.75 25.5 12.75 54.5 0 21.75-6.75 42 34 40 34
        99.5z" />
</svg>
        
      </defs>
    </svg>
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="search" autocomplete="off">
    <label class="md-overlay" data-md-component="overlay" for="drawer"></label>
    
      <a href="#contracts-overview" tabindex="1" class="md-skip">
        Skip to content
      </a>
    
    
      <header class="md-header" data-md-component="header">
  <nav class="md-header-nav md-grid">
    <div class="md-flex">
      <div class="md-flex__cell md-flex__cell--shrink">
        <a href="../.." title="сyber•Congress wiki" class="md-header-nav__button md-logo">
          
            <img src="../../img/Logo_cat.svg" width="24" height="24">
          
        </a>
      </div>
      <div class="md-flex__cell md-flex__cell--shrink">
        <label class="md-icon md-icon--menu md-header-nav__button" for="__drawer"></label>
      </div>
      <div class="md-flex__cell md-flex__cell--stretch">
        <div class="md-flex__ellipsis md-header-nav__title" data-md-component="title">
          
            
              <span class="md-header-nav__topic">
                сyber•Congress wiki
              </span>
              <span class="md-header-nav__topic">
                Contracts
              </span>
            
          
        </div>
      </div>
      <div class="md-flex__cell md-flex__cell--shrink">
        
          
            <label class="md-icon md-icon--search md-header-nav__button" for="__search"></label>
            
<div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="query" data-md-state="active">
      <label class="md-icon md-search__icon" for="__search"></label>
      <button type="reset" class="md-icon md-search__icon" data-md-component="reset" tabindex="-1">
        &#xE5CD;
      </button>
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="result">
          <div class="md-search-result__meta">
            Type to start searching
          </div>
          <ol class="md-search-result__list"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
          
        
      </div>
      
        <div class="md-flex__cell md-flex__cell--shrink">
          <div class="md-header-nav__source">
            


  


  <a href="https://github.com/cybercongress/congress/" title="Go to repository" class="md-source" data-md-source="github">
    
      <div class="md-source__icon">
        <svg viewBox="0 0 24 24" width="24" height="24">
          <use xlink:href="#__github" width="24" height="24"></use>
        </svg>
      </div>
    
    <div class="md-source__repository">
      congress
    </div>
  </a>

          </div>
        </div>
      
    </div>
  </nav>
</header>
    
    <div class="md-container">
      
        
      
      
        

  

<nav class="md-tabs md-tabs--active" data-md-component="tabs">
  <div class="md-tabs__inner md-grid">
    <ul class="md-tabs__list">
      
        
  <li class="md-tabs__item">
    
      <a href="../.." title="cyber•Congress" class="md-tabs__link">
        cyber•Congress
      </a>
    
  </li>

      
        
      
        
  
  
    <li class="md-tabs__item">
      
        <a href="../../cyb/cyb/" title="cyb" class="md-tabs__link">
          cyb
        </a>
      
    </li>
  

      
        
  
  
    <li class="md-tabs__item">
      
        <a href="../../cyberd/cyberd/" title="cyberd" class="md-tabs__link">
          cyberd
        </a>
      
    </li>
  

      
        
  
  
    <li class="md-tabs__item">
      
        <a href="../overview/" title="chaingear" class="md-tabs__link md-tabs__link--active">
          chaingear
        </a>
      
    </li>
  

      
        
  
  
    <li class="md-tabs__item">
      
        <a href="../../cybernode/cybernode/" title="cybernode" class="md-tabs__link">
          cybernode
        </a>
      
    </li>
  

      
        
  
  
    <li class="md-tabs__item">
      
        <a href="../../cyber-markets/cyber-markets/" title="cyber-markets" class="md-tabs__link">
          cyber-markets
        </a>
      
    </li>
  

      
        
  
  
    <li class="md-tabs__item">
      
        <a href="../../cyber-search/cyber-search/" title="cyber-search" class="md-tabs__link">
          cyber-search
        </a>
      
    </li>
  

      
        
  
  
    <li class="md-tabs__item">
      
        <a href="../../cyb-js/cyb-js/" title="cyb-js" class="md-tabs__link">
          cyb-js
        </a>
      
    </li>
  

      
    </ul>
  </div>
</nav>
      
      <main class="md-main">
        <div class="md-main__inner md-grid" data-md-component="container">
          
            
              <div class="md-sidebar md-sidebar--primary" data-md-component="navigation">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    <nav class="md-nav md-nav--primary" data-md-level="0">
  
    <div class="md-nav__source">
      


  


  <a href="https://github.com/cybercongress/congress/" title="Go to repository" class="md-source" data-md-source="github">
    
      <div class="md-source__icon">
        <svg viewBox="0 0 24 24" width="24" height="24">
          <use xlink:href="#__github" width="24" height="24"></use>
        </svg>
      </div>
    
    <div class="md-source__repository">
      congress
    </div>
  </a>

    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      


  <li class="md-nav__item">
    <a href="../.." title="cyber•Congress" class="md-nav__link">
      cyber•Congress
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../../contribute/" title="Contributing" class="md-nav__link">
      Contributing
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-3" type="checkbox" id="nav-3">
    
    <label class="md-nav__link" for="nav-3">
      cyb
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../cyb/cyb/" title="Whitepaper" class="md-nav__link">
      Whitepaper
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../cyb/web3-vision/" title="Web3 vision" class="md-nav__link">
      Web3 vision
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../cyb/app-guidelines/" title="App guidelines" class="md-nav__link">
      App guidelines
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-4" type="checkbox" id="nav-4">
    
    <label class="md-nav__link" for="nav-4">
      cyberd
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../cyberd/cyberd/" title="Overview" class="md-nav__link">
      Overview
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../cyberd/Roadmap/" title="Roadmap" class="md-nav__link">
      Roadmap
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../cyberd/Changelog/" title="Changelog" class="md-nav__link">
      Changelog
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../cyberd/Contributing/" title="Contributing" class="md-nav__link">
      Contributing
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      

  


  <li class="md-nav__item md-nav__item--active md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-5" type="checkbox" id="nav-5" checked>
    
    <label class="md-nav__link" for="nav-5">
      chaingear
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../overview/" title="Overview" class="md-nav__link">
      Overview
    </a>
  </li>

        
          
          
          

  


  <li class="md-nav__item md-nav__item--active">
    
    <input class="md-toggle md-nav__toggle" data-md-toggle="toc" type="checkbox" id="__toc">
    
      
    
    <a href="./" title="Contracts" class="md-nav__link md-nav__link--active">
      Contracts
    </a>
    
      
<nav class="md-nav md-nav--secondary">
  
  
    
  
  
    <ul class="md-nav__list" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#design-rationale" title="Design rationale" class="md-nav__link">
    Design rationale
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#chaingear-inheritance" title="Chaingear inheritance" class="md-nav__link">
    Chaingear inheritance
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#registry-inheritance" title="Registry inheritance" class="md-nav__link">
    Registry inheritance
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#ps-oz-stands-to-open-zeppelin-contracts" title="PS: OZ stands to Open Zeppelin contracts" class="md-nav__link">
    PS: OZ stands to Open Zeppelin contracts
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#chaingear" title="/chaingear" class="md-nav__link">
    /chaingear
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#common" title="/common" class="md-nav__link">
    /common
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#registry" title="/registry" class="md-nav__link">
    /registry
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#entryinterface-interface-should-be-implemented-in-user-entrycore-contract" title="EntryInterface interface (should be implemented in user EntryCore contract)" class="md-nav__link">
    EntryInterface interface (should be implemented in user EntryCore contract)
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#example-entrycore-with-example-custom-structure-and-required-functions" title="Example EntryCore (with example custom structure and required functions)" class="md-nav__link">
    Example EntryCore (with example custom structure and required functions)
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
      
      
      
      
    </ul>
  
</nav>
    
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../pipelines/" title="Pipelines" class="md-nav__link">
      Pipelines
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../development/" title="Development" class="md-nav__link">
      Development
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../Changelog/" title="Changelog" class="md-nav__link">
      Changelog
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-6" type="checkbox" id="nav-6">
    
    <label class="md-nav__link" for="nav-6">
      cybernode
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../cybernode/cybernode/" title="About cybernode" class="md-nav__link">
      About cybernode
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-6-2" type="checkbox" id="nav-6-2">
    
    <label class="md-nav__link" for="nav-6-2">
      Components
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="2">
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../cybernode/components/components-requirments/" title="Requirements" class="md-nav__link">
      Requirements
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../cybernode/components/chain-nodes-components/" title="Chain-nodes" class="md-nav__link">
      Chain-nodes
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../cybernode/components/monitoring-components/" title="Monitoring" class="md-nav__link">
      Monitoring
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-6-3" type="checkbox" id="nav-6-3">
    
    <label class="md-nav__link" for="nav-6-3">
      Chains
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="2">
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../cybernode/chains/bitcoin/" title="Bitcoin" class="md-nav__link">
      Bitcoin
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../cybernode/chains/ethereum/" title="Ethereum" class="md-nav__link">
      Ethereum
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../cybernode/requirements/" title="Requirements" class="md-nav__link">
      Requirements
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../cybernode/dev-setup/" title="Dev-setup" class="md-nav__link">
      Dev-setup
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-6-6" type="checkbox" id="nav-6-6">
    
    <label class="md-nav__link" for="nav-6-6">
      Staging
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="2">
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../cybernode/staging/chains/" title="Chains" class="md-nav__link">
      Chains
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../cybernode/staging/continuous-delivery/" title="CD" class="md-nav__link">
      CD
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../cybernode/staging/kubernetes/" title="Kubernetes" class="md-nav__link">
      Kubernetes
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../cybernode/staging/run/" title="Run" class="md-nav__link">
      Run
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../cybernode/staging/setup/" title="Setup" class="md-nav__link">
      Setup
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../cybernode/k8s-cheat-sheet/" title="Cheat-sheet" class="md-nav__link">
      Cheat-sheet
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-7" type="checkbox" id="nav-7">
    
    <label class="md-nav__link" for="nav-7">
      cyber-markets
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../cyber-markets/cyber-markets/" title="Overview" class="md-nav__link">
      Overview
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-7-2" type="checkbox" id="nav-7-2">
    
    <label class="md-nav__link" for="nav-7-2">
      API
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="2">
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../cyber-markets/api/Readme/" title="Readme" class="md-nav__link">
      Readme
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-7-3" type="checkbox" id="nav-7-3">
    
    <label class="md-nav__link" for="nav-7-3">
      Components
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="2">
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../cyber-markets/components/overview/" title="Overview" class="md-nav__link">
      Overview
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-7-4" type="checkbox" id="nav-7-4">
    
    <label class="md-nav__link" for="nav-7-4">
      Contributing
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="2">
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../cyber-markets/contributing/cheat-sheet/" title="Cheat-sheet" class="md-nav__link">
      Cheat-sheet
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../cyber-markets/contributing/dev-environment/" title="Dev-environment" class="md-nav__link">
      Dev-environment
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../cyber-markets/contributing/contributing/" title="Contributing" class="md-nav__link">
      Contributing
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-8" type="checkbox" id="nav-8">
    
    <label class="md-nav__link" for="nav-8">
      cyber-search
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../cyber-search/cyber-search/" title="About Search" class="md-nav__link">
      About Search
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-8-2" type="checkbox" id="nav-8-2">
    
    <label class="md-nav__link" for="nav-8-2">
      API
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="2">
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../cyber-search/api/" title="Readme" class="md-nav__link">
      Readme
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-8-3" type="checkbox" id="nav-8-3">
    
    <label class="md-nav__link" for="nav-8-3">
      Components
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="2">
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../cyber-search/components/bitcoin-components/" title="Bitcoin" class="md-nav__link">
      Bitcoin
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../cyber-search/components/ethereum-components/" title="Ethereum" class="md-nav__link">
      Ethereum
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../cyber-search/components/cassandra-service/" title="Cassandra" class="md-nav__link">
      Cassandra
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../cyber-search/components/custom-chain-name/" title="Custom chain name" class="md-nav__link">
      Custom chain name
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../cyber-search/components/search-common-components/" title="Search-common" class="md-nav__link">
      Search-common
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-8-4" type="checkbox" id="nav-8-4">
    
    <label class="md-nav__link" for="nav-8-4">
      Contributing
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="2">
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../cyber-search/contributing/dev-environment/" title="Dev-environment" class="md-nav__link">
      Dev-environment
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../cyber-search/contributing/pump-development/" title="Pump-development" class="md-nav__link">
      Pump-development
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../cyber-search/contributing/cheat-sheet/" title="Cheat-sheet" class="md-nav__link">
      Cheat-sheet
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../cyber-search/contributing/contributing/" title="Contributing" class="md-nav__link">
      Contributing
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-9" type="checkbox" id="nav-9">
    
    <label class="md-nav__link" for="nav-9">
      cyb-js
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../cyb-js/cyb-js/" title="Overview" class="md-nav__link">
      Overview
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              <div class="md-sidebar md-sidebar--secondary" data-md-component="toc">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    
<nav class="md-nav md-nav--secondary">
  
  
    
  
  
    <ul class="md-nav__list" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#design-rationale" title="Design rationale" class="md-nav__link">
    Design rationale
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#chaingear-inheritance" title="Chaingear inheritance" class="md-nav__link">
    Chaingear inheritance
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#registry-inheritance" title="Registry inheritance" class="md-nav__link">
    Registry inheritance
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#ps-oz-stands-to-open-zeppelin-contracts" title="PS: OZ stands to Open Zeppelin contracts" class="md-nav__link">
    PS: OZ stands to Open Zeppelin contracts
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#chaingear" title="/chaingear" class="md-nav__link">
    /chaingear
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#common" title="/common" class="md-nav__link">
    /common
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#registry" title="/registry" class="md-nav__link">
    /registry
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#entryinterface-interface-should-be-implemented-in-user-entrycore-contract" title="EntryInterface interface (should be implemented in user EntryCore contract)" class="md-nav__link">
    EntryInterface interface (should be implemented in user EntryCore contract)
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#example-entrycore-with-example-custom-structure-and-required-functions" title="Example EntryCore (with example custom structure and required functions)" class="md-nav__link">
    Example EntryCore (with example custom structure and required functions)
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
      
      
      
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          <div class="md-content">
            <article class="md-content__inner md-typeset">
              
                
                  <a href="https://github.com/cybercongress/congress/edit/master/wiki/docs/сhaingear/contracts.md" title="Edit this page" class="md-icon md-content__icon">&#xE3C9;</a>
                
                
                <h1 id="contracts-overview">Contracts Overview<a class="headerlink" href="#contracts-overview" title="Permanent link">&para;</a></h1>
<h2 id="design-rationale">Design rationale<a class="headerlink" href="#design-rationale" title="Permanent link">&para;</a></h2>
<p>Main design principle goes from ERC721 NFT tokenization of Registries (in Chaingear/Metaregistry) and Entries (in custom Registry). </p>
<p>In reason of Registries tokenization in Chaingear which allows token holder acts as administrator of their Registry, Chaingear acts to Registry as owner, which sets holder as administrator on creation phase, changes administrator when holder transfers token to another user, and transfers ownership when user unregister Registry in Chaingear, giving them full control to contract. Registry deep-linked to Chaingear registry token. In other words, token ownership means control of Registry. Also, Chaingear supports multiple Registry Creators (fabrics of registries), and allows Chaingear owners provide different kind and versioning of Registries.</p>
<p>In reason of providing user functionality to describe their custom registry data structures and CRUD operations, the user creates their custom smart-contract, which implements the EntryInterface interface. This contract acts as inner storage, defines schema, and Registry acts them on token operations (creating and deleting). A user may deploy erroneous or vulnerable EntryCore contract, but this should not crash Chaingear-Registry NFT-token logic and Registry inner entry NFT-logic too. Even if this happens Registry crashing should not affect Chaingear/metaregistry contract. We proceed from the premise that the creator of the registry (administrator) is positive and it does not make sense for them to break his registry by initializing it with an incorrect contract.</p>
<p>This brings us to tokenized (<strong>C</strong> <em>RU</em> <strong>D</strong>) operations (and inner private in EntryCore) in Registry-EntryCore and public (<em>C</em> <strong>R</strong> <em>UD</em>) actions/direct EntroCore tokenized (<em>CR</em> <strong>U</strong> <em>D</em>) operations.</p>
<h2 id="chaingear-inheritance">Chaingear inheritance<a class="headerlink" href="#chaingear-inheritance" title="Permanent link">&para;</a></h2>
<p><img alt="chaingear_inheritance" src="../mermaid/contracts-chaingear_inheritance.svg" /></p>
<h2 id="registry-inheritance">Registry inheritance<a class="headerlink" href="#registry-inheritance" title="Permanent link">&para;</a></h2>
<p><img alt="registry_inheritance" src="../mermaid/contracts-registry_inheritance.svg" /></p>
<h5 id="ps-oz-stands-to-open-zeppelin-contracts">PS: OZ stands to Open Zeppelin contracts<a class="headerlink" href="#ps-oz-stands-to-open-zeppelin-contracts" title="Permanent link">&para;</a></h5>
<h3 id="chaingear">/chaingear<a class="headerlink" href="#chaingear" title="Permanent link">&para;</a></h3>
<ul>
<li>
<p><strong><em>Chaingear</em></strong> allows any user to create his own registry. Building fee is collecting by new registry creation. All builded registries are tokenized with ERC721 NFT token standard and saved in Chaingear metaregistry with registry metainformation. Creator of registry may transfer tokenized ownership of registry and destroy registry with token burning. Tokenized registries Entries may collect funds by users. Chaingear supports multiple benefitiaries witch have access to collected fees. </p>
</li>
<li>
<p><strong><em>ChaingearCore</em></strong> holds general logic of Chaingear. Allows change chaingear's metainformation, amount of registration fee, adding multiple registry creator contracts based on versioning or/and functionality.</p>
</li>
<li>
<p><strong><em>RegistryBase</em></strong> holds struct of data with describes registry metainformation which associated with token, views function for registry metainformation.</p>
</li>
<li>
<p><strong><em>RegistryCreator</em></strong> contains the code of specified version of Registry. This code used by Chaingear for Registry creation process. Registry Creator should be added with specified version and description to Chaingear Registry Creators inner registry. Chaingear contract should be added as builder to Registry Creator with reason to allow creation calls only by Chaingear contact.</p>
</li>
</ul>
<h3 id="common">/common<a class="headerlink" href="#common" title="Permanent link">&para;</a></h3>
<ul>
<li>
<p><strong><em>RegistySafe</em></strong> allows creator contract transfer ETHs to them and claim from, accounting logic holded by owner contract.</p>
</li>
<li>
<p><strong><em>SplitPaymentChangeable</em></strong> allows add beneficiaries to contract (addresses and shares amount) and change payee address. Beneficiaries can claim ETHs from contract proportionally to their shares.</p>
</li>
</ul>
<h3 id="registry">/registry<a class="headerlink" href="#registry" title="Permanent link">&para;</a></h3>
<ul>
<li>
<p><strong><em>Chaingeareable</em></strong> holds basic logic of Registry as registry basic information, balance and fees amount. Contains getters and setters for registry name, description, tags, entry base address.</p>
</li>
<li>
<p><strong><em>EntryInterface</em></strong> interface for <em>EntryCore</em>. Holds entry metainformation and interfaces of functions (<strong>C</strong> <em>RU</em> <strong>D</strong>) which should be implemented in <em>EntryCore</em>. Uses for interaction between Registry and EntryCore.</p>
</li>
<li>
<p><strong><em>EntryCore</em></strong> partially code-generated contract where registry creator setup their custom entry structure and setters/getters. <em>EntryCore</em> then initializes in Registry by their creator (as admin) and completes Registry setup process. Provides public (<em>C</em> <strong>RU</strong> <em>D</em>) actions for users and inner (<strong>C</strong> <em>RU</em> <strong>D</strong>) tokenized actions for Registry.  Registry goes as owner of contract (and acts as proxy) with entries creating, token-based transferring and deleting.</p>
</li>
<li>
<p><strong><em>Registry</em></strong> contract witch tokenize entries as NFT tokens via ERC721 standard. Users can create tokenized empty entries according to entry access policy setted in Registry. Registry provides tokenized (<strong>C</strong> <em>RU</em> <strong>D</strong>) actions, after creation of token and empty registry object, user should initialize them in EntryCore. Also users can fund entries with ETHs which send to <em>RegistrySafe</em> where owner of entry token can claim funds.</p>
</li>
<li>
<p><strong><em>RegistryAccessControl</em></strong> holds logic of controlling registry and accessing to entries creation. Policy options to entries creation are OnlyAdministrator, AllUsers. Chaingear acts as owner of Registry and creator of registry acts of administrator with separated policies to Registry functions.</p>
</li>
</ul>
<h4 id="entryinterface-interface-should-be-implemented-in-user-entrycore-contract">EntryInterface interface (should be implemented in user EntryCore contract)<a class="headerlink" href="#entryinterface-interface-should-be-implemented-in-user-entrycore-contract" title="Permanent link">&para;</a></h4>
<div class="codehilite"><pre><span></span><span class="nx">contract</span> <span class="nx">EntryInterface</span> <span class="p">{</span>

    <span class="kd">function</span> <span class="nx">entriesAmount</span><span class="p">()</span> <span class="nx">external</span> <span class="nx">view</span> <span class="nx">returns</span> <span class="p">(</span><span class="nx">uint256</span><span class="p">);</span>
    <span class="kd">function</span> <span class="nx">createEntry</span><span class="p">()</span> <span class="nx">external</span> <span class="nx">returns</span> <span class="p">(</span><span class="nx">uint256</span><span class="p">);</span>
    <span class="kd">function</span> <span class="nx">deleteEntry</span><span class="p">(</span><span class="nx">uint256</span><span class="p">)</span> <span class="nx">external</span><span class="p">;</span>
<span class="p">}</span>
</pre></div>


<h4 id="example-entrycore-with-example-custom-structure-and-required-functions">Example EntryCore (with example custom structure and required functions)<a class="headerlink" href="#example-entrycore-with-example-custom-structure-and-required-functions" title="Permanent link">&para;</a></h4>
<div class="codehilite"><pre><span></span><span class="nx">pragma</span> <span class="nx">solidity</span> <span class="mf">0.4.24</span><span class="p">;</span>

<span class="kr">import</span> <span class="s2">&quot;../common/EntryInterface.sol&quot;</span><span class="p">;</span>
<span class="kr">import</span> <span class="s2">&quot;openzeppelin-solidity/contracts/ownership/Ownable.sol&quot;</span><span class="p">;</span>


<span class="c1">//This is Example of EntryCore</span>
<span class="nx">contract</span> <span class="nx">EntryCore</span> <span class="nx">is</span> <span class="nx">EntryInterface</span><span class="p">,</span> <span class="nx">Ownable</span> <span class="p">{</span>

    <span class="nx">struct</span> <span class="nx">Entry</span> <span class="p">{</span>
        <span class="nx">address</span> <span class="nx">expensiveAddress</span><span class="p">;</span>
        <span class="nx">uint256</span> <span class="nx">expensiveUint</span><span class="p">;</span>
        <span class="nx">int128</span> <span class="nx">expensiveInt</span><span class="p">;</span>
        <span class="nx">string</span> <span class="nx">expensiveString</span><span class="p">;</span>
    <span class="p">}</span>

    <span class="nx">mapping</span><span class="p">(</span><span class="nx">string</span> <span class="p">=&gt;</span> <span class="nx">bool</span><span class="p">)</span> <span class="nx">internal</span> <span class="nx">entryExpensiveStringIndex</span><span class="p">;</span>

    <span class="nx">Entry</span><span class="p">[]</span> <span class="nx">internal</span> <span class="nx">entries</span><span class="p">;</span>

    <span class="kd">function</span><span class="p">()</span> <span class="nx">external</span> <span class="p">{}</span>

    <span class="kd">function</span> <span class="nx">createEntry</span><span class="p">()</span>
        <span class="nx">external</span>
        <span class="nx">onlyOwner</span>
        <span class="nx">returns</span> <span class="p">(</span><span class="nx">uint256</span><span class="p">)</span>
    <span class="p">{</span>
        <span class="nx">Entry</span> <span class="nx">memory</span> <span class="nx">m</span> <span class="o">=</span> <span class="p">(</span><span class="nx">Entry</span><span class="p">(</span>
        <span class="p">{</span>
            <span class="nx">expensiveAddress</span><span class="o">:</span> <span class="nx">address</span><span class="p">(</span><span class="mi">0</span><span class="p">),</span>
            <span class="nx">expensiveUint</span><span class="o">:</span> <span class="nx">uint256</span><span class="p">(</span><span class="mi">0</span><span class="p">),</span>
            <span class="nx">expensiveInt</span><span class="o">:</span> <span class="nx">int128</span><span class="p">(</span><span class="mi">0</span><span class="p">),</span>
            <span class="nx">expensiveString</span><span class="o">:</span> <span class="s2">&quot;&quot;</span>
        <span class="p">}));</span>

        <span class="nx">uint256</span> <span class="nx">newEntryID</span> <span class="o">=</span> <span class="nx">entries</span><span class="p">.</span><span class="nx">push</span><span class="p">(</span><span class="nx">m</span><span class="p">)</span> <span class="o">-</span> <span class="mi">1</span><span class="p">;</span>

        <span class="k">return</span> <span class="nx">newEntryID</span><span class="p">;</span>
    <span class="p">}</span>

    <span class="kd">function</span> <span class="nx">updateEntry</span><span class="p">(</span>
        <span class="nx">uint256</span> <span class="nx">_entryID</span><span class="p">,</span> 
        <span class="nx">address</span> <span class="nx">_newAddress</span><span class="p">,</span> 
        <span class="nx">uint256</span> <span class="nx">_newUint</span><span class="p">,</span> 
        <span class="nx">int128</span> <span class="nx">_newInt</span><span class="p">,</span> 
        <span class="nx">string</span> <span class="nx">_newString</span>
    <span class="p">)</span>
        <span class="nx">external</span>
    <span class="p">{</span>
        <span class="nx">require</span><span class="p">(</span><span class="nx">owner</span><span class="p">.</span><span class="nx">call</span><span class="p">(</span><span class="nx">bytes4</span><span class="p">(</span><span class="nx">keccak256</span><span class="p">(</span><span class="s2">&quot;checkAuth(uint256, address)&quot;</span><span class="p">)),</span> <span class="nx">_entryID</span><span class="p">,</span> <span class="nx">msg</span><span class="p">.</span><span class="nx">sender</span><span class="p">));</span>

        <span class="c1">// for uniq check example</span>
        <span class="nx">require</span><span class="p">(</span><span class="nx">entryExpensiveStringIndex</span><span class="p">[</span><span class="nx">_newString</span><span class="p">]</span> <span class="o">==</span> <span class="kc">false</span><span class="p">);</span>

        <span class="nx">Entry</span> <span class="nx">memory</span> <span class="nx">m</span> <span class="o">=</span> <span class="p">(</span><span class="nx">Entry</span><span class="p">({</span>
            <span class="nx">expensiveAddress</span><span class="o">:</span> <span class="nx">_newAddress</span><span class="p">,</span>
            <span class="nx">expensiveUint</span><span class="o">:</span> <span class="nx">_newUint</span><span class="p">,</span>
            <span class="nx">expensiveInt</span><span class="o">:</span> <span class="nx">_newInt</span><span class="p">,</span>
            <span class="nx">expensiveString</span><span class="o">:</span> <span class="nx">_newString</span>
        <span class="p">}));</span>
        <span class="nx">entries</span><span class="p">[</span><span class="nx">_entryID</span><span class="p">]</span> <span class="o">=</span> <span class="nx">m</span><span class="p">;</span>

        <span class="c1">// for uniq check example</span>
        <span class="nx">entryExpensiveStringIndex</span><span class="p">[</span><span class="nx">_newString</span><span class="p">]</span> <span class="o">=</span> <span class="kc">true</span><span class="p">;</span>

        <span class="nx">require</span><span class="p">(</span><span class="nx">owner</span><span class="p">.</span><span class="nx">call</span><span class="p">(</span><span class="nx">bytes4</span><span class="p">(</span><span class="nx">keccak256</span><span class="p">(</span><span class="s2">&quot;updateEntryTimestamp(uint256)&quot;</span><span class="p">)),</span> <span class="nx">_entryID</span><span class="p">));</span>
    <span class="p">}</span>

    <span class="kd">function</span> <span class="nx">deleteEntry</span><span class="p">(</span>
        <span class="nx">uint256</span> <span class="nx">_entryIndex</span>
    <span class="p">)</span>
        <span class="nx">external</span>
        <span class="nx">onlyOwner</span>
    <span class="p">{</span>
        <span class="nx">uint256</span> <span class="nx">lastEntryIndex</span> <span class="o">=</span> <span class="nx">entries</span><span class="p">.</span><span class="nx">length</span> <span class="o">-</span> <span class="mi">1</span><span class="p">;</span>
        <span class="nx">Entry</span> <span class="nx">storage</span> <span class="nx">lastEntry</span> <span class="o">=</span> <span class="nx">entries</span><span class="p">[</span><span class="nx">lastEntryIndex</span><span class="p">];</span>

        <span class="nx">entries</span><span class="p">[</span><span class="nx">_entryIndex</span><span class="p">]</span> <span class="o">=</span> <span class="nx">lastEntry</span><span class="p">;</span>
        <span class="k">delete</span> <span class="nx">entries</span><span class="p">[</span><span class="nx">lastEntryIndex</span><span class="p">];</span>
        <span class="nx">entries</span><span class="p">.</span><span class="nx">length</span><span class="o">--</span><span class="p">;</span>
    <span class="p">}</span>

    <span class="kd">function</span> <span class="nx">entriesAmount</span><span class="p">()</span>
        <span class="nx">external</span>
        <span class="nx">view</span>
        <span class="nx">returns</span> <span class="p">(</span><span class="nx">uint256</span> <span class="nx">entryID</span><span class="p">)</span>
    <span class="p">{</span>
        <span class="k">return</span> <span class="nx">entries</span><span class="p">.</span><span class="nx">length</span><span class="p">;</span>
    <span class="p">}</span>

    <span class="kd">function</span> <span class="nx">entryInfo</span><span class="p">(</span>
        <span class="nx">uint256</span> <span class="nx">_entryID</span>
    <span class="p">)</span>
        <span class="nx">external</span>
        <span class="nx">view</span>
        <span class="nx">returns</span> <span class="p">(</span>
            <span class="nx">address</span><span class="p">,</span> 
            <span class="nx">uint256</span><span class="p">,</span> 
            <span class="nx">int128</span><span class="p">,</span> 
            <span class="nx">string</span>
        <span class="p">)</span>
    <span class="p">{</span>
        <span class="k">return</span> <span class="p">(</span>
            <span class="nx">entries</span><span class="p">[</span><span class="nx">_entryID</span><span class="p">].</span><span class="nx">expensiveAddress</span><span class="p">,</span>
            <span class="nx">entries</span><span class="p">[</span><span class="nx">_entryID</span><span class="p">].</span><span class="nx">expensiveUint</span><span class="p">,</span>
            <span class="nx">entries</span><span class="p">[</span><span class="nx">_entryID</span><span class="p">].</span><span class="nx">expensiveInt</span><span class="p">,</span>
            <span class="nx">entries</span><span class="p">[</span><span class="nx">_entryID</span><span class="p">].</span><span class="nx">expensiveString</span>
        <span class="p">);</span>
    <span class="p">}</span>

<span class="p">}</span>
</pre></div>
                
                  
                
              
              
                


              
            </article>
          </div>
        </div>
      </main>
      
        
<footer class="md-footer">
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-footer-copyright">
        
          <div class="md-footer-copyright__highlight">
            WTFPL – Do What the Fuck You Want to Public License.
          </div>
        
        powered by
        <a href="https://www.mkdocs.org">MkDocs</a>
        and
        <a href="https://squidfunk.github.io/mkdocs-material/">
          Material for MkDocs</a>
      </div>
      
        
  <div class="md-footer-social">
    <link rel="stylesheet" href="../../assets/fonts/font-awesome.css">
    
      <a href="https://github.com/cybercongress" class="md-footer-social__link fa fa-github"></a>
    
  </div>

      
    </div>
  </div>
</footer>
      
    </div>
    
      <script src="../../assets/javascripts/application.0cf9b500.js"></script>
      
      <script>app.initialize({version:"1.0.4",url:{base:"../.."}})</script>
      
        <script src="https://unpkg.com/mermaid@7.1.0/dist/mermaid.min.js"></script>
      
        <script src="../../search/main.js"></script>
      
    
    
      
    
  </body>
</html>